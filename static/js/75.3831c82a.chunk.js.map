{"version":3,"file":"static/js/75.3831c82a.chunk.js","mappings":"iOACA,GAAgB,cAAgB,8BAA8B,WAAa,2BAA2B,YAAc,4BAA4B,UAAY,0BAA0B,WAAa,4B,SC+CnM,EA3Ce,WAAO,IAAD,EACjB,GAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,mBAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GACrCC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACQ,KAAVJ,IACJK,EAAAA,EAAAA,IAAiBL,GAChBM,MAAK,SAAAC,GACFX,EAAUW,EAAKC,QAClB,GACJ,GAAE,CAACR,IAWJ,OACI,iBAAKS,UAAWC,EAAAA,cAAhB,WACI,kBAAMD,UAAWC,EAAAA,WAAkBC,SAXtB,SAAAC,GACjBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cACfhB,EAAgB,CAAEC,MAAOc,EAAKE,SAASC,YAAYC,QACnDJ,EAAKK,OACR,EAMO,WACI,kBAAOC,KAAK,OAAOC,KAAK,cAAcZ,UAAWC,EAAAA,eACjD,mBAAQU,KAAK,SAASX,UAAWC,EAAAA,UAAjC,wBAEJ,eAAID,UAAWC,EAAAA,WAAf,SACKf,EAAO2B,KAAI,SAAAC,GACR,OACI,eAAId,UAAWC,EAAAA,WAAf,UACI,SAAC,EAAAc,KAAD,CAAMC,GAAE,UAAKF,EAAMG,IAAMC,MAAO,CAAEC,KAAM1B,GAAxC,SAAqDqB,EAAMM,SADzBN,EAAMG,GAInD,QAKhB,C,+LC5CKI,EAAU,mCACVC,EAAe,kDACfC,EAAc,sCACdC,EAAa,4CAGZ,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,oGACoBC,EAAAA,EAAAA,IAAUJ,EAAc,CAC3CK,OAAQ,CACJC,QAASP,KAHd,cACGQ,EADH,yBAMIA,EAAS/B,MANb,kEASA,SAAegC,EAAtB,+CAAO,OAAP,oBAAO,WAAkCb,GAAlC,uFACoBS,EAAAA,EAAAA,IAAA,UAAaH,GAAb,OAA2BN,GAAM,CACpDU,OAAQ,CACJC,QAASP,KAHd,cACGQ,EADH,yBAMIA,EAAS/B,MANb,kEASA,SAAeF,EAAtB,+CAAO,OAAP,oBAAO,WAAgCL,GAAhC,uFACoBmC,EAAAA,EAAAA,IAAA,UAAaF,GAAc,CAC9CG,OAAQ,CACJC,QAASP,EACT9B,MAAOA,KAJZ,cACGsC,EADH,yBAOIA,EAAS/B,MAPb,kEAUA,SAAeiC,EAAtB,+CAAO,OAAP,oBAAO,WAA+Bd,GAA/B,uFACoBS,EAAAA,EAAAA,IAAA,UAAaH,GAAb,OAA2BN,EAA3B,YAAyC,CAC5DU,OAAQ,CACJC,QAASP,KAHd,cACGQ,EADH,yBAMIA,EAAS/B,MANb,kEASA,SAAekC,EAAtB,+CAAO,OAAP,oBAAO,WAAkCf,GAAlC,uFACoBS,EAAAA,EAAAA,IAAA,UAAaH,GAAb,OAA2BN,EAA3B,YAAyC,CAC5DU,OAAQ,CACJC,QAASP,KAHd,cACGQ,EADH,yBAMIA,EAAS/B,MANb,kE","sources":["webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.js","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"MoviesSection\":\"Movies_MoviesSection__q0-wg\",\"MoviesForm\":\"Movies_MoviesForm__jenk-\",\"MoviesInput\":\"Movies_MoviesInput__EojMs\",\"MoviesBtn\":\"Movies_MoviesBtn__I88Mu\",\"MoviesItem\":\"Movies_MoviesItem__NbJvx\"};","import { useEffect, useState } from 'react';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport { fetchSearchMovie } from '../../services/api';\nimport style from './Movies.module.css';\n\nconst Movies = () => {\n    const [movies, setMovies] = useState([]);\n    const [searchParams, setSearchParams] = useSearchParams();\n    const query = searchParams.get('query') ?? '';\n    const location = useLocation();\n\n    useEffect(() => {\n        if (query === '') return;\n        fetchSearchMovie(query)\n        .then(data => {\n            setMovies(data.results)\n        })\n    }, [query]);\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        const form = e.currentTarget;\n        setSearchParams({ query: form.elements.searchmovie.value });\n        form.reset();\n    };\n\n    // console.log(location);\n\n    return (\n        <div className={style.MoviesSection}>\n            <form className={style.MoviesForm} onSubmit={handleSubmit}>\n                <input type=\"text\" name=\"searchmovie\" className={style.MoviesInput} />\n                <button type=\"submit\" className={style.MoviesBtn}>Search</button>\n            </form>\n            <ul className={style.MoviesList}>\n                {movies.map(movie => {\n                    return (\n                        <li className={style.MoviesItem} key={movie.id}>\n                            <Link to={`${movie.id}`} state={{ from: location }}>{movie.title}</Link>\n                        </li>\n                    );\n                })}\n            </ul>\n            \n        </div>\n    );\n};\n\nexport default Movies;","import axios from \"axios\";\n\nconst API_KEY = '33ef4765e3f4adc0587a60944c0ed5d4';\nconst TRENDING_URL = 'https://api.themoviedb.org/3/trending/movie/day';\nconst DETAILS_URL = 'https://api.themoviedb.org/3/movie/';\nconst SEARCH_URL = 'https://api.themoviedb.org/3/search/movie';\n\n\nexport async function fetchTrendingMovies() {\n    const response = await axios.get(TRENDING_URL, {\n        params: {\n            api_key: API_KEY,\n        }\n    });\n    return response.data;\n}\n\nexport async function fetchDetailsMovies(id) {\n    const response = await axios.get(`${DETAILS_URL}${id}`, {\n        params: {\n            api_key: API_KEY\n        }\n    });\n    return response.data;\n}\n\nexport async function fetchSearchMovie(query) {\n    const response = await axios.get(`${SEARCH_URL}`, {\n        params: {\n            api_key: API_KEY,\n            query: query,\n        }\n    });\n    return response.data;\n}\n\nexport async function fetchCastMovies(id) {\n    const response = await axios.get(`${DETAILS_URL}${id}/credits`, {\n        params: {\n            api_key: API_KEY\n        }\n    });\n    return response.data;\n}\n\nexport async function fetchReviewsMovies(id) {\n    const response = await axios.get(`${DETAILS_URL}${id}/reviews`, {\n        params: {\n            api_key: API_KEY\n        }\n    });\n    return response.data;\n}"],"names":["useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","query","get","location","useLocation","useEffect","fetchSearchMovie","then","data","results","className","style","onSubmit","e","preventDefault","form","currentTarget","elements","searchmovie","value","reset","type","name","map","movie","Link","to","id","state","from","title","API_KEY","TRENDING_URL","DETAILS_URL","SEARCH_URL","fetchTrendingMovies","axios","params","api_key","response","fetchDetailsMovies","fetchCastMovies","fetchReviewsMovies"],"sourceRoot":""}